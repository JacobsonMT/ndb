<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/WEB-INF/templates/mainTemplate.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<ui:define name="pageTitle">Search database</ui:define>
	
	<ui:define name="css">
		<h:outputStylesheet library="css" name="index.css" />
	</ui:define>
	
	<ui:define name="content">
	<br/>
	<p:growl id="msgs" showDetail="true" />
    <h3 style="margin-top:0">Search for variants</h3>
    <h:form>    
	    <p:accordionPanel multiple="true">
	        <p:tab title="Basic search">
	            <h:panelGrid columns="3" cellpadding="10">

	                <h:outputText value="Search by Gene" style="font-weight:bold;text-decoration:underline;" />
	                <span/>
 					<h:outputText value="Search by coordinates" style="font-weight:bold;text-decoration:underline;" />	                

					<p:outputPanel id="genePanel" style="width:250px;padding-left:5px;margin-top:10px">					
					<!-- SEARCH BY CHROMOSOME -->
				    	<h:outputLabel for="gene" value="e.g. SYNGAP1, ENSG000000042 " />	
				    	<p:autoComplete id="gene" value="#{indexView.gene}" 
				    					completeMethod="#{indexView.completeSymbol}" queryDelay="600" 
				    					maxResults="20" minQueryLength="2" 
				    					forceSelection="true" label="ID" 
				    					emptyMessage="No gene suggestions available, please try again." var="g" 
				    					itemLabel="#{g.symbol}" itemValue="#{g}" 
				    					converter="geneConverter" style="margin-right:8px;">
				    					<p:column>
                 					 		<h:outputText value="#{g.label}" />
               							</p:column>				    	
				    	</p:autoComplete>
	                </p:outputPanel> 
	                			                	                
	                <span> &nbsp;&nbsp;&nbsp; or &nbsp;&nbsp;&nbsp; </span>		
	                
	                           
 					<p:outputPanel id="coordinates" style="width:250px;padding-left:5px;margin-top:10px">
					<!-- SEARCH BY COORDINATES -->	   
				    	<h:outputLabel for="coordinates" value="e.g. 20, 123456789, 987654321" />				    	
		            		<h:panelGrid columns="2" cellpadding="10">					    	
						         <h:outputText value="Chromosome:"/><p:inputText />					        
						         <h:outputText value="Start:"/><p:inputText />					        
						         <h:outputText value="Stop:"/> <p:inputText />					         
		            		</h:panelGrid>
				    </p:outputPanel>
	            </h:panelGrid>
			</p:tab>
	        <ui:remove>
		        <p:tab title="Filters (coming soon!)">
		        <!-- 
		        <h:outputText value="Refine your search using variant type or a range of genomic coordinates." />	             
					    
		            <h:panelGrid columns="5" cellpadding="50">
		                <!  <p:graphicImage name="images/filter_icon.jpg" />  >
		                <h:panelGrid columns="2" cellpadding="5">
						                   
					        <h:outputLabel for="variantEffects" value="Variant effect" />
					        <br/>
					        <p:selectCheckboxMenu id="variantEffects" value="#{filterView.selectedVariants}" label="Variants"
					                              filter="true" filterMatchMode="startsWith" panelStyle="width:250px">
					            <f:selectItems value="#{filterView.variants}" />
					        </p:selectCheckboxMenu>
					         
							<p:outputPanel id="display" style="width:250px;padding-left:5px;margin-top:10px">
						       	<p:dataList value="#{filterView.selectedVariants}" var="variant" emptyMessage="Show any effect type.">
						           	#{variant}
						       	</p:dataList>
						    </p:outputPanel>
					        <p:commandLink value="Update" update="display" />
					      
					    </h:panelGrid>
					    
					    
					    <p:outputPanel>
					    	<br/>
					    </p:outputPanel>
					    
					    
					   
					    
					    				    			    				
		            </h:panelGrid> -->
	        	</p:tab>	        
		    </ui:remove>
	    </p:accordionPanel>
	    <br/>
	    <p:growl id="growl" life="2000" />
	    <p:commandButton value="Submit" 
	    					action="#{indexView.go}" 
	    					oncomplete="PF('variantdlg').show()" 
	    					icon="ui-icon-check" 
	    					/>

    </h:form>
    
 
	</ui:define>

</ui:composition>